{% extends "layout/basic.html" %}

{% block content %}
<main class="flex-grow-1">
    <section class="container mt-4">
        <div class="row">
            <!-- Левая колонка (Инф о польз-е) -->
            <div class="col-md-3">
                
                <h2>Информация о пользователе</h2>
                <p>Имя пользователя: {{ user.username }}</p>
                <p>Email: {{ user.email }}</p>
                <p>Суперпользователь: {{ user.is_superuser }}</p>
                <p>Группы: {{ user.group.all|join:", "}}</p>
                <p>Дата последнего входа: {{ user.last_login }}</p>
                <p>Дата регистрации: {{ user.date_joined }}</p>
                <p>Разрешения: {{ user.get_all_permissions }}</p>
                
            </div>
            <!-- Правая колонка (контекстн обраб-ик) -->
            <div class="col-md-9">
                
                <h2>Тестирование контекстного обработчика</h2>
                <h3>Все пользователи:</h3>
                <ul>
                    {% for user in all_users %}
                    <li>{{ user.username }}</li>
                    {% endfor %}
                </ul>
                
                {% if user_groups %}
                <h3>Ваши группы:</h3>
                <ul>
                    {% for group in user_groups %}
                    <li>{{ group.name }}</li>
                    {% endfor %}
                </ul>
                {% else %}
                <p>Вы не состоите в группах.</p>
                {% endif %}
                
            </div>
        </div>
    </section>
</main>
{% endblock %}